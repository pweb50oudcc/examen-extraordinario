<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto Final web3cv50</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Staatliches&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <a href="index.html">
            <img class="header__logo" src="img/logo.png" alt="logotipo">
        </a>
    </header>
     <title>Proyecto Final Web</title>
    <link rel="stylesheet" href="estilos.css">

   <!-- Carga el núcleo de Firebase JS SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
    <!-- Agrega el manejo de autenticación. -->
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js">
    </script>
    <script src="js/init.js"></script>
  </head>
  <body>
    <h1>Autenticación</h1>
    <h1>Playeras</h1>
    <fieldset>
      <legend>Email</legend>
      <output id="email"><progress max="100">Cargando…</progress></output>
    </fieldset>
    <fieldset>
      <legend>Nombre</legend>
      <output id="nombre"></output>
    </fieldset>
    <figure><img id="avatar" alt="Avatar"></figure>
    <button type="button" onclick="terminaSesión()">Terminar Sesión</button>
    <footer>Copyright &copy; 2021 Osvaldo Ulrick Del Castillo Camacho.</footer>
    <script>
      //@ts-check
      /** Conexión al sistema de autenticación de Firebase. */
      // @ts-ignore
      const auth = firebase.auth();
      /** Tipo de autenticación de usuarios. En este caso es con Google. */
      // @ts-ignore
      const provider = new firebase.auth.GoogleAuthProvider();
      /* Configura el proveedor de Google para que permita seleccionar de una
       * lista. */
      provider.setCustomParameters({ prompt: "select_account" });
      /* Recibe una función que se invoca cada que hay un cambio en la
       * autenticación y recibe el modelo con las características del usuario.*/
      auth.onAuthStateChanged(
        /** Recibe las características del usuario o null si no ha iniciado
         * sesión. */
        usuarioAuth => {
          if (usuarioAuth && usuarioAuth.email) {
            // Usuario aceptado.
            // @ts-ignore Muestra el email registrado en Google.
            email.value = usuarioAuth.email;
            // @ts-ignore Muestra el nombre registrado en Google.
            nombre.value = usuarioAuth.displayName;
            // @ts-ignore Muestra el avatar registrado en Google.
            avatar.src = usuarioAuth.photoURL;
          } else {
            // No ha iniciado sesión. Pide datos para iniciar sesión.
            auth.signInWithRedirect(provider); 
          }
        },
        // Función que se invoca si hay un error al verificar el usuario. //
        procesaError
      );
      /** Termina la sesión. */
      async function terminaSesión() {
        try {
          await auth.signOut();
        } catch (e) {
          procesaError(e);
        }
      }
      /** Procesa un error. Muestra el objeto en la consola y un cuadro de
       * alerta con el mensaje.
       * @param {Error} e descripción del error. */
      function procesaError(e) {
        console.log(e);
        alert(e.message);
      }
    </script>

    <nav class="navegacion">
        <!-- Ctrl + D = Seleccionar la misma palabra varias veces -->
        <!-- Alt + seleccionar donde quieras escribir para escribir 2 o más veces el mismo texto -->
        <a class="navegacion_enlace navegacion_enlace--activo" href="index.html">Tienda</a> 
        <a class="navegacion__enlace" href="nosotros.html">Nosotros</a>
    </nav>

    <main class="contenedor">
        
        <h1>Nuestros Productos</h1>

        <div class="grid">
            <div class="producto"> <!-- Inicio de la calse producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/1.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">VueJS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/2.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">AngularJS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/3.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">ReactJS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/4.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">ReduxJS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/5.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">NodeJS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/6.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">SASS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/7.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">HTML5</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/8.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">Github</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/9.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">BulmaCSS</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/10.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">TypeScript</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/11.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">Drupal</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/12.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">JavaScript</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/13.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">GraphQL</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->
            <div class="producto"> <!-- Inicio de la clase producto -->
                <a href="producto.html">
                    <img class="producto__imagen" src="img/14.jpg" alt="imagen camisa">
                    <div class="producto__informacion">
                        <p class="producto__nombre">Wordpress</p>
                        <p class="producto__precio">$25</p>
                    </div>
                </a>
            </div> <!-- Fin de la clase producto -->

            <div class="grafico grafico--camisas"></div>
            <div class="grafico grafico--node"></div>
        </div>

    </main>

    <footer class="footer">
        <p class="footer__texto"> Osvaldo Ulrick Del Castillo Camacho - Todos los derechos reservados 2021</p>
    </footer>

</body>

</html>
